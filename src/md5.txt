#include "../include/md5.h"
#include <string.h>

// MD5 结构体
typedef struct {
    uint32_t state[4];
    uint64_t count;
    uint8_t buffer[64];
} md5_context;

static void md5_init(void *context) {
    md5_context *ctx = (md5_context *)context;
    ctx->state[0] = 0x67452301;
    ctx->state[1] = 0xEFCDAB89;
    ctx->state[2] = 0x98BADCFE;
    ctx->state[3] = 0x10325476;
    ctx->count = 0;
    memset(ctx->buffer, 0, sizeof(ctx->buffer));
}

static void md5_update(void *context, const uint8_t *data, size_t len) {
    
}

static void md5_final(void *context, uint8_t *hash) {
    
}

const hash_algorithm md5_algorithm = {
    .init = md5_init,
    .update = md5_update,
    .final = md5_final,
    .context_size = sizeof(md5_context),
    .hash_size = 16
};
